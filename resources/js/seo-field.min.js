var SeoField=function(e){this.namespace=e,this.title(),this.slug(),this.desc(),this.score=document.getElementById(e+"-score"),this.toggle()};SeoField.prototype.title=function(){var e,t,n=document.getElementById(this.namespace+"-title"),s=document.getElementById("title");if(e=function(){n.value=this.value+" "+i},t=function(){this.classList.remove("clean"),this.removeEventListener("input",t,!1),s.removeEventListener("input",e,!1)},s&&n.classList.contains("clean")){var i=n.value;s.addEventListener("input",e,!1)}n.addEventListener("input",t,!1)},SeoField.prototype.slug=function(){var e=document.getElementById(this.namespace+"-slug"),t=document.getElementById("slug"),n=document.getElementById(this.namespace+"-ref");t&&e&&(e.textContent=t.value,n.textContent=n.textContent.replace(t.value,""),setInterval(function(){e.textContent=t.value},1e3))},SeoField.prototype.desc=function(){function e(){t.oninput()}var t=document.getElementById(this.namespace+"-description");setTimeout(function(){e()},1),Craft.livePreview.on("enter",e),Craft.livePreview.on("exit",e),window.addEventListener("resize",e),t.addEventListener("keydown",function(e){13===e.keyCode&&e.preventDefault()}),t.addEventListener("input",function(){this.value=this.value.replace(/(\r\n|\n|\r)/gm," "),this.value.length>160?this.classList.add("invalid"):this.classList.remove("invalid")})},SeoField.prototype.toggle=function(){var e=this,t=!1;this.score.getElementsByClassName("toggle-score")[0].addEventListener("click",function(){e.score.classList.toggle("open"),t=!t,t?e.score.getElementsByClassName("details")[0].style.height=e.score.getElementsByClassName("details-inner")[0].clientHeight+"px":e.score.getElementsByClassName("details")[0].style.height="",e.moveItems(t)})},SeoField.prototype.moveItems=function(e){var t=[].slice.call(this.score.getElementsByClassName("item")),n=this.score.querySelectorAll(".details li");[].slice.call(n).forEach(function(n){var s=n.getAttribute("data-i");e?(t[s].style.left=n.offsetLeft+"px",t[s].style.top=n.offsetTop+"px"):(t[s].style.left=s*(100/t.length)+"%",t[s].style.top="")})};