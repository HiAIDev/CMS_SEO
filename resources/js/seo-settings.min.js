var SeoSettings=function(e,t){switch(this.namespace=e,t){case"sitemap":new SeoSettings.EditableTable(this.namespace+"-customUrls",this.namespace+"-addCustomUrl");break;case"redirects":new SeoSettings.EditableTable(this.namespace+"-redirects",this.namespace+"-addRedirect");break;case"settings":this.sitemapName(),new SeoSettings.SortableList("#"+this.namespace+"-readability")}};SeoSettings.prototype.sitemapName=function(){var e=document.getElementById(this.namespace+"-sitemapNameExample");document.getElementById(this.namespace+"-sitemapName").addEventListener("input",function(){e.textContent=this.value+".xml"})},SeoSettings.EditableTable=function(e,t){var a=this;this.table=document.getElementById(e).getElementsByTagName("tbody")[0],this.row=this.table.firstElementChild.cloneNode(!0),this.table.firstElementChild.remove(),this.row.classList.remove("hidden"),[].slice.call(this.table.getElementsByClassName("delete")).forEach(function(e){e.addEventListener("click",function(){e.parentNode.parentNode.remove()})}),document.getElementById(t).addEventListener("click",function(){a.addRow()})},SeoSettings.EditableTable.prototype.addRow=function(){var e=1;this.table.getElementsByTagName("tr").length>0&&(e=parseInt(this.table.lastElementChild.getAttribute("data-id"))+1);var t=this.row.cloneNode(!0);t.setAttribute("data-id",e),t.innerHTML=t.innerHTML.replace(new RegExp("{i}","g"),e),t.getElementsByClassName("delete")[0].addEventListener("click",function(){t.remove()}),this.table.appendChild(t)},SeoSettings.SortableList=Garnish.DragSort.extend({$readability:null,init:function(e,t){this.$readability=$(e);var a=this.$readability.children(".input").children(":not(.filler)");t=$.extend({},SeoSettings.SortableList.defaults,t),t.container=this.$readability.children(".input"),t.helper=$.proxy(this,"getHelper"),t.caboose=".readabiltiy-row",t.axis=Garnish.Y_AXIS,t.magnetStrength=4,t.helperLagBase=1.5,this.base(a,t)},getHelper:function(e){var t=$('<div class="'+this.settings.helperClass+'"/>').appendTo(Garnish.$bod);return e.appendTo(t),t}},{defaults:{handle:".move",helperClass:"sortablelisthelper"}});