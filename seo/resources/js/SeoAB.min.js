function createElement(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e),r=!0,o=!1,l=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=slicedToArray(u,2),d=c[0],h=c[1];h&&((void 0===h?"undefined":_typeof(h))!==_typeof(function(){})?("style"===d&&(h=h.replace(/(?:\r\n|\r|\n|\t|\s+)/g," ").trim()),i.setAttribute(d,h)):"ref"===d?h(i):i.addEventListener(d,h))}}catch(e){o=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw l}}return Array.isArray(n)||(n=[n]),n.map(function(e){if(e)try{i.appendChild(e)}catch(t){i.appendChild(document.createTextNode(e))}}),i}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),TextStatistics=function(){function e(t){classCallCheck(this,e),this.text=t?e.cleanText(t):t}return createClass(e,[{key:"fleschKincaidReadingEase",value:function(){return Math.round(10*(206.835-1.015*this.averageWordsPerSentence()-84.6*this.averageSyllablesPerWord()))/10}},{key:"fleschKincaidGradeLevel",value:function(){return Math.round(10*(.39*this.averageWordsPerSentence()+11.8*this.averageSyllablesPerWord()-15.59))/10}},{key:"gunningFogScore",value:function(){return Math.round(.4*(this.averageWordsPerSentence()+this.percentageWordsWithThreeSyllables(!1))*10)/10}},{key:"colemanLiauIndex",value:function(){return Math.round(10*(this.letterCount()/this.wordCount()*5.89-this.sentenceCount()/this.wordCount()*.3-15.8))/10}},{key:"smogIndex",value:function(){return Math.round(1.043*Math.sqrt(this.wordsWithThreeSyllables()*(30/this.sentenceCount())+3.1291)*10)/10}},{key:"automatedReadabilityIndex",value:function(){return Math.round(10*(this.letterCount()/this.wordCount()*4.71+this.wordCount()/this.sentenceCount()*.5-21.43))/10}},{key:"textLength",value:function(){return this.text.length}},{key:"letterCount",value:function(){return this.text.replace(/[^a-z]+/gi,"").length}},{key:"sentenceCount",value:function(){return this.text.replace(/[^.!?]/g,"").length||1}},{key:"wordCount",value:function(){return this.words().length||1}},{key:"words",value:function(){return this._words?this._words:(this._words=this.text.split(/[^a-z0-9']+/i),this._words)}},{key:"averageWordsPerSentence",value:function(){return this.wordCount()/this.sentenceCount()}},{key:"averageSyllablesPerWord",value:function(){var t=0,n=this.wordCount();return this.text.split(/\s+/).forEach(function(n){t+=e.syllableCount(n)}),(t||1)/(n||1)}},{key:"wordsWithThreeSyllables",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=0;return t=!1!==t,this.text.split(/\s+/).forEach(function(i){i.match(/^[A-Z]/)&&!t||e.syllableCount(i)>2&&n++}),n}},{key:"percentageWordsWithThreeSyllables",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.wordsWithThreeSyllables(e)/this.wordCount()*100}}],[{key:"cleanText",value:function(e){return["li","p","h1","h2","h3","h4","h5","h6","dd"].forEach(function(t){e.replace("</"+t+">",".")}),e=e.replace(/<[^>]+>/g,"").replace(/[,:;()-]/g," ").replace(/[.!?]/g,".").replace(/^\s+/g,"").replace(/[ ]*(\n|\r\n|\r)[ ]*/g," ").replace(/([.])[. ]+/g,".").replace(/[ ]*([.])/g,". ").replace(/\s+/g," ").replace(/\s+$/g,"").replace(/'/g,""),e+="."}},{key:"syllableCount",value:function(e){var t=0,n=0;e=e.toLowerCase().replace(/[^a-z]/g,"");var i={simile:3,forever:3,shoreline:2};if(i.hasOwnProperty(e))return i[e];[/^un/,/^fore/,/ly$/,/less$/,/ful$/,/ers?$/,/ings?$/].forEach(function(t){e.match(t)&&(e=e.replace(t,""),n++)});var r=e.split(/[^aeiouy]+/gi).filter(function(e){return!!e.replace(/\s+/gi,"").length}).length;return t=r+n,[/cial/,/tia/,/cius/,/cious/,/giu/,/ion/,/iou/,/sia$/,/[^aeiuoyt]{2,}ed$/,/.ely$/,/[cg]h?e[rsd]?$/,/rved?$/,/[aeiouy][dt]es?$/,/[aeiouy][^aeiouydt]e[rsd]?$/,/^[dr]e[aeiou][^aeiou]+$/,/[aeiouy]rse$/].forEach(function(n){e.match(n)&&t--}),[/ia/,/riet/,/dien/,/iu/,/io/,/ii/,/[aeiouym]bl$/,/[aeiou]{3}/,/^mc/,/ism$/,/([^aeiouy])\1l$/,/[^l]lien/,/^coa[dglx]./,/[^gq]ua[^auieo]/,/dnt$/,/uity$/,/ie(r|st)$/].forEach(function(n){e.match(n)&&t++}),t||1}}]),e}(),SeoAB=function(){function e(){var t=this;classCallCheck(this,e),this.fieldSwitches=[],this.globalDirection=0,this.onEnableClick=function(){!!t.enabledSwitch.lastElementChild.value?t.appendSwitches():t.removeSwitches()},this.onToggleField=function(e,n){n.preventDefault();var i=n.target;t.toggleField(e,"BA"===i.textContent|0)},this.onToggleAllClick=function(e){e.preventDefault(),t.globalDirection=0|!t.globalDirection,e.target.textContent=t.globalDirection?"AB":"BA",t.toggleAllFields(t.globalDirection)},this.enabledSwitch=document.getElementById("seo_AbEnabled"),this.enabledSwitch.addEventListener("click",this.onEnableClick),this.craftFieldsContainer=document.getElementById("fields"),this.fieldsContainer=document.getElementById("seoBFields"),this.fieldIds=this.getFieldIds(),this.onEnableClick()}return createClass(e,[{key:"appendSwitches",value:function(){for(var e=this.fieldIds.length;e--;){var t=document.getElementById("fields-"+this.fieldIds[e]),n=createElement("button",{style:"\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t",click:this.onToggleField.bind(this,this.fieldIds[e])},"AB");this.fieldSwitches.push(n),t.appendChild(n)}document.getElementById("tabs").appendChild(createElement("button",{style:"\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 10px;\n\t\t\t\t\tright: 24px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t",click:this.onToggleAllClick},"AB"))}},{key:"removeSwitches",value:function(){for(var e=this.fieldSwitches.length;e--;)this.fieldSwitches[e].parentNode.removeChild(this.fieldSwitches[e]);this.fieldSwitches=[]}},{key:"toggleField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.getElementById("fields-"+e),i=document.getElementById("seoAb-"+e),r="seoBFields"!==n.parentNode.getAttribute("id")|0;if(t!==r){var o=document.createComment("craftFieldTarget"),l=document.createComment("seoAbFieldTarget"),a=r?n.lastElementChild:i.lastElementChild;a.textContent=t?"AB":"BA",t?n.appendChild(a):i.appendChild(a),n.parentNode.insertBefore(l,n),i.parentNode.insertBefore(o,i),o.parentNode.insertBefore(n,o),o.parentNode.removeChild(o),l.parentNode.insertBefore(i,l),l.parentNode.removeChild(l)}}},{key:"toggleAllFields",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fieldIds.forEach(function(n){e.toggleField(n,t)})}},{key:"getFieldIds",value:function(){for(var e=[],t=this.fieldsContainer.children.length;t--;){var n=this.fieldsContainer.children[t].getAttribute("id");n=n.replace("seoAb-",""),e.push(n)}return e}}]),e}();window.SeoAB=SeoAB;
//# sourceMappingURL=SeoAB.min.js.map
