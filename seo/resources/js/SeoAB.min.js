function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e),a=!0,u=!1,l=void 0;try{for(var s,c=Object.entries(n)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var d=s.value,h=o(d,2),f=h[0],y=h[1];y&&((void 0===y?"undefined":t(y))!==t(function(){})?("style"===f&&(y=y.replace(/[\t\r\n]/g," ").trim()),i.setAttribute(f,y)):"ref"===f?y(i):i.addEventListener(f,y))}}catch(e){u=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(u)throw l}}return Array.isArray(r)||(r=[r]),r.map(function(e){if(e)try{i.appendChild(e)}catch(t){i.appendChild(document.createTextNode(e))}}),i}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=(function(){function e(e){this.value=e}function t(t){function n(o,i){try{var a=t[o](i),u=a.value;u instanceof e?Promise.resolve(u.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(a.done?"return":"normal",a.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(e,t){return new Promise(function(r,a){var u={key:e,arg:t,resolve:r,reject:a,next:null};i?i=i.next=u:(o=i=u,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=(function(){function e(t){n(this,e),this.text=t?e.cleanText(t):t}r(e,[{key:"fleschKincaidReadingEase",value:function(){return Math.round(10*(206.835-1.015*this.averageWordsPerSentence()-84.6*this.averageSyllablesPerWord()))/10}},{key:"fleschKincaidGradeLevel",value:function(){return Math.round(10*(.39*this.averageWordsPerSentence()+11.8*this.averageSyllablesPerWord()-15.59))/10}},{key:"gunningFogScore",value:function(){return Math.round(.4*(this.averageWordsPerSentence()+this.percentageWordsWithThreeSyllables(!1))*10)/10}},{key:"colemanLiauIndex",value:function(){return Math.round(10*(this.letterCount()/this.wordCount()*5.89-this.sentenceCount()/this.wordCount()*.3-15.8))/10}},{key:"smogIndex",value:function(){return Math.round(1.043*Math.sqrt(this.wordsWithThreeSyllables()*(30/this.sentenceCount())+3.1291)*10)/10}},{key:"automatedReadabilityIndex",value:function(){return Math.round(10*(this.letterCount()/this.wordCount()*4.71+this.wordCount()/this.sentenceCount()*.5-21.43))/10}},{key:"textLength",value:function(){return this.text.length}},{key:"letterCount",value:function(){return this.text.replace(/[^a-z]+/gi,"").length}},{key:"sentenceCount",value:function(){return this.text.replace(/[^.!?]/g,"").length||1}},{key:"wordCount",value:function(){return this.words().length||1}},{key:"words",value:function(){return this._words?this._words:(this._words=this.text.split(/[^a-z0-9']+/i),this._words)}},{key:"averageWordsPerSentence",value:function(){return this.wordCount()/this.sentenceCount()}},{key:"averageSyllablesPerWord",value:function(){var t=0,n=this.wordCount();return this.text.split(/\s+/).forEach(function(n){t+=e.syllableCount(n)}),(t||1)/(n||1)}},{key:"wordsWithThreeSyllables",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=0;return t=!1!==t,this.text.split(/\s+/).forEach(function(r){r.match(/^[A-Z]/)&&!t||e.syllableCount(r)>2&&n++}),n}},{key:"percentageWordsWithThreeSyllables",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.wordsWithThreeSyllables(e)/this.wordCount()*100}}],[{key:"cleanText",value:function(e){return["li","p","h1","h2","h3","h4","h5","h6","dd"].forEach(function(t){e.replace("</"+t+">",".")}),e=e.replace(/<[^>]+>/g,"").replace(/[,:;()-]/g," ").replace(/[.!?]/g,".").replace(/^\s+/g,"").replace(/[ ]*(\n|\r\n|\r)[ ]*/g," ").replace(/([.])[. ]+/g,".").replace(/[ ]*([.])/g,". ").replace(/\s+/g," ").replace(/\s+$/g,"").replace(/'/g,""),e+="."}},{key:"syllableCount",value:function(e){var t=0,n=0;e=e.toLowerCase().replace(/[^a-z]/g,"");var r={simile:3,forever:3,shoreline:2};if(r.hasOwnProperty(e))return r[e];var o=[/cial/,/tia/,/cius/,/cious/,/giu/,/ion/,/iou/,/sia$/,/[^aeiuoyt]{2,}ed$/,/.ely$/,/[cg]h?e[rsd]?$/,/rved?$/,/[aeiouy][dt]es?$/,/[aeiouy][^aeiouydt]e[rsd]?$/,/^[dr]e[aeiou][^aeiou]+$/,/[aeiouy]rse$/],i=[/ia/,/riet/,/dien/,/iu/,/io/,/ii/,/[aeiouym]bl$/,/[aeiou]{3}/,/^mc/,/ism$/,/([^aeiouy])\1l$/,/[^l]lien/,/^coa[dglx]./,/[^gq]ua[^auieo]/,/dnt$/,/uity$/,/ie(r|st)$/];[/^un/,/^fore/,/ly$/,/less$/,/ful$/,/ers?$/,/ings?$/].forEach(function(t){e.match(t)&&(e=e.replace(t,""),n++)});var a=e.split(/[^aeiouy]+/gi).filter(function(e){return!!e.replace(/\s+/gi,"").length}).length;return t=a+n,o.forEach(function(n){e.match(n)&&t--}),i.forEach(function(n){e.match(n)&&t++}),t||1}}])}(),function(){function t(e,r){n(this,t),this.SEO=null,this.fieldLayoutDesigner=null,this.SEO=e,this.fieldLayoutDesigner=r}return r(t,null,[{key:"addMenuItem",value:function(e,n){var r=n.find(".settings").data("menubtn").menu,o=r.$container.children("ul"),i=$('<li><a data-action="seo-ab">Enable A/B</a></li>').appendTo(o).children("a"),a=n[0].dataset.id;e.allEnabledFieldIds.indexOf(a)>-1&&t.onEnableOptionSelected(i),r.addOptions(i)}},{key:"onEnableOptionSelected",value:function(t){var n=$(t).data("menu").$anchor.parent()[0];if(n.classList.contains("seo-ab-enabled"))return n.classList.remove("seo-ab-enabled"),n.removeChild(n.querySelector('input[name="seoAB[]"]')),void setTimeout(function(){t.textContent="Enable A/B"});n.classList.add("seo-ab-enabled"),n.appendChild(e("input",{type:"hidden",name:"seoAB[]",value:n.dataset.id})),setTimeout(function(){t.textContent="Disable A/B"})}}]),t}()),a=function(){function e(t){n(this,e),this.allEnabledFieldIds=[],this.allEnabledFieldIds=t,Craft.FieldLayoutDesigner&&this.hookFieldLayoutDesigner()}return r(e,[{key:"hookFieldLayoutDesigner",value:function(){var e=this,t=Craft.FieldLayoutDesigner,n=t.prototype.init,r=t.prototype.initField,o=t.prototype.onFieldOptionSelect;t.prototype.init=function(){n.apply(this,arguments),new i(e,this)},t.prototype.initField=function(t){r.apply(this,arguments),i.addMenuItem(e,t)},t.prototype.onFieldOptionSelect=function(e){o.apply(this,arguments),"seo-ab"===e.dataset.action&&i.onEnableOptionSelected(e)}}}]),e}();window.SeoAB=a;
//# sourceMappingURL=SeoAB.min.js.map
