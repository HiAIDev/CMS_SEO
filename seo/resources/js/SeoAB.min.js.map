{"version":3,"file":"SeoAB.min.js","sources":["../../../resources/js/seoAB/LayoutDesigner.js","../../../resources/js/SeoAB.js"],"sourcesContent":["/* globals $ */\n/**\n * Layout Designer\n *\n * @author    Tam McDonald\n * @copyright Ether Creative 2017\n * @link      https://ethercreative.co.uk\n * @package   SEO\n * @since     2.0.0\n */\nexport default class LayoutDesigner {\n\t\n\t// Variables\n\t// =========================================================================\n\t\n\tfieldLayoutDesigner = null;\n\t\n\t// Layout Designer\n\t// =========================================================================\n\t\n\t/**\n\t * Create our Layout Designer\n\t *\n\t * @param {Craft.FieldLayoutDesigner} fieldLayoutDesigner\n\t * @constructor\n\t */\n\tconstructor (fieldLayoutDesigner) {\n\t\tthis.fieldLayoutDesigner = fieldLayoutDesigner;\n\t}\n\t\n\t// Actions\n\t// =========================================================================\n\t\n\t/**\n\t * Adds our Enable A/B menu item to the fields settings menu\n\t *\n\t * @param field\n\t */\n\tstatic addMenuItem (field) {\n\t\tconst $editBtn = field.find(\".settings\");\n\t\tconst menuBtn = $editBtn.data(\"menubtn\");\n\t\tconst menu = menuBtn.menu;\n\t\tconst $menu = menu.$container;\n\t\tconst $ul = $menu.children(\"ul\");\n\t\tconst abItem =\n\t\t\t$('<li><a data-action=\"seo-ab\">Enable A/B</a></li>')\n\t\t\t.appendTo($ul);\n\t\t\n\t\tmenu.addOptions(abItem.children(\"a\"));\n\t}\n\t\n\t// Events\n\t// =========================================================================\n\t\n\tonEnableOptionSelected (option) {\n\t\tconst $field = $(option).data(\"menu\").$anchor.parent()[0];\n\t\t\n\t\t// TODO\n\t}\n\t\n}","/* globals Craft */\n/**\n * SEO A/B Testing\n *\n * @author    Tam McDonald\n * @copyright Ether Creative 2017\n * @link      https://ethercreative.co.uk\n * @package   SEO\n * @since     2.0.0\n */\n\nimport LayoutDesigner from \"./seoAB/LayoutDesigner\";\n\nclass SeoAB {\n\t\n\tconstructor () {\n\t\tCraft.FieldLayoutDesigner && this.hookFieldLayoutDesigner();\n\t\t// Craft.initUiElements && console.log(Craft.initUiElements);\n\t\t// Craft.ElementEditor && console.log(Craft.ElementEditor);\n\t}\n\t\n\t// Hooks\n\t// =========================================================================\n\t\n\t/**\n\t * Hook into Crafts Field Layout Designer\n\t */\n\thookFieldLayoutDesigner () {\n\t\tconst fieldLayoutDesigner = Craft.FieldLayoutDesigner;\n\t\t\n\t\tconst init = fieldLayoutDesigner.prototype.init\n\t\t\t, initField = fieldLayoutDesigner.prototype.initField\n\t\t\t, onFieldOptionSelect = fieldLayoutDesigner.prototype.onFieldOptionSelect;\n\t\t\n\t\tfieldLayoutDesigner.prototype.init = function () {\n\t\t\tinit.apply(this, arguments);\n\t\t\t\n\t\t\t// Initialize our Layout Designer\n\t\t\tthis.seoAB = new LayoutDesigner(this);\n\t\t};\n\t\t\n\t\tfieldLayoutDesigner.prototype.initField = function (field) {\n\t\t\tinitField.apply(this, arguments);\n\t\t\t\n\t\t\t// Add our \"Enable A/B\" menu item\n\t\t\tLayoutDesigner.addMenuItem(field);\n\t\t};\n\t\t\n\t\tfieldLayoutDesigner.prototype.onFieldOptionSelect = function (opt) {\n\t\t\tonFieldOptionSelect.apply(this, arguments);\n\t\t\t\n\t\t\tif (opt.dataset.action !== \"seo-ab\") return;\n\t\t\t\n\t\t\t// Fire our on enable select event\n\t\t\tthis.seoAB.onEnableOptionSelected(opt);\n\t\t};\n\t}\n\t\n}\n\nwindow.SeoAB = SeoAB;"],"names":["LayoutDesigner","fieldLayoutDesigner","option","$","data","$anchor","parent","field","menu","find","$ul","$container","children","abItem","appendTo","addOptions","SeoAB","FieldLayoutDesigner","this","hookFieldLayoutDesigner","Craft","init","prototype","initField","onFieldOptionSelect","apply","arguments","seoAB","addMenuItem","opt","dataset","action","onEnableOptionSelected","window"],"mappings":"mvCAUqBA,wBAgBPC,kBAXbA,oBAAsB,UAYhBA,oBAAsBA,2DA2BJC,GACRC,EAAED,GAAQE,KAAK,QAAQC,QAAQC,SAAS,yCAjBpCC,OAGbC,EAFWD,EAAME,KAAK,aACHL,KAAK,WACTI,KAEfE,EADQF,EAAKG,WACDC,SAAS,MACrBC,EACLV,EAAE,mDACDW,SAASJ,KAENK,WAAWF,EAAOD,SAAS,eCnC5BI,0CAGEC,qBAAuBC,KAAKC,0FAY5BlB,EAAsBmB,MAAMH,oBAE5BI,EAAOpB,EAAoBqB,UAAUD,KACxCE,EAAYtB,EAAoBqB,UAAUC,UAC1CC,EAAsBvB,EAAoBqB,UAAUE,sBAEnCF,UAAUD,KAAO,aAC/BI,MAAMP,KAAMQ,gBAGZC,MAAQ,IAAI3B,EAAekB,SAGbI,UAAUC,UAAY,SAAUhB,KACzCkB,MAAMP,KAAMQ,aAGPE,YAAYrB,MAGRe,UAAUE,oBAAsB,SAAUK,KACzCJ,MAAMP,KAAMQ,WAEL,WAAvBG,EAAIC,QAAQC,aAGXJ,MAAMK,uBAAuBH,aAMrCI,OAAOjB,MAAQA"}