function get(e,r,t){$.ajax({url:Craft.actionUrl+"/seo/"+e,method:"POST",data:_extends(defineProperty({},Craft.csrfTokenName,Craft.csrfTokenValue),r),xhrFields:{withCredentials:!0},success:function(e){t&&t(e)},error:function(e){Craft.cp.displayError("<strong>SEO:</strong> "+e.message)}})}function SeoSchema(e,r){new Vue({el:"#seoSchemaWrap",data:{ready:!1,schema:[e],selectedSchemaIds:["http://schema.org/Thing"],selectedProperties:[r]},created:function(){this.ready=!0},methods:{onSchemaClick:function(t){var n=this;return function(a,o){if(a.preventDefault(),o.indexOf("Thing")>-1)return n.schema=[e],n.selectedSchemaIds=[o],void(n.selectedProperties=[r]);n.getChildren(o,function(e){for(var r=e.children,a=[],c=[],s=t;s--;)c[s]=n.selectedSchemaIds[s],a[s]=n.schema[s];c[t]=o,a[t]=r,n.selectedSchemaIds=c,n.schema=a,n.getProperties(o,function(e){for(var r=e.properties,a=[],o=t;o--;)a[o]=n.selectedProperties[o];a[t]=r,n.selectedProperties=a})})}},getChildren:function(e,r){get("schema/getChildren",{schemaId:e},r)},getProperties:function(e,r){get("schema/getProperties",{schemaId:e},r)}},computed:{getSelectedSchemaIdsReversed:function(){return[].concat(toConsumableArray(this.selectedSchemaIds)).reverse()},getSelectedPropertiesReversed:function(){return[].concat(toConsumableArray(this.selectedProperties)).reverse()}}})}var defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},Vue=window.Vue||{},Craft=window.Craft||{},$=window.$||{};Vue.options.delimiters=["${","}"],Vue.component("schema-lane",{props:["laneSchema","onClick","selectedSchemaIds"],template:"#seoSchemaLane"}),window.SeoSchema=SeoSchema;
//# sourceMappingURL=SeoSchema.min.js.map
